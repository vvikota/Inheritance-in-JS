<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/black.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>Наследование в JavaScript</section>
				<section>
					<pre><code data-line-numbers="1-3|1-5| 7-8">  function Auto() {
		console.log('Машина');
	}

	const bmw = new Auto();

	console.log(bmw)
	=> Auto {}
					</code></pre>
				</section>

        <section>Добавим свойства</section>

				<section>
					<pre>
						<code data-line-numbers="1|1-2|1-3|1-4|7-8|10-11|13-14">  function Auto(brand, price, gas) {
		this.brand = brand;
		this.price = price;
		this.gas = gas;
	}

	const bmw = new Auto('bmw', '100,000', 100);
	const volvo = new Auto('volvo', '120,000', 130);

	console.log(bmw)
	=> Auto {brand: 'bmw', price: '100,000', gas: 100}

	console.log(volvo)
	=> Auto {brand: 'volvo', price: '120,000', gas: 130}
					</code></pre>
				</section>

				<section>Добавим метод</section>

				<section>
					<pre>
						<code data-line-numbers="1-4|5-12">  function Auto(brand, price, gas) {
		this.brand = brand;
		this.price = price;
		this.gas = gas;
		this.drive = function() {
			if(this.gas > 0) {
				this.gas = this.gas - 20;
				return this.gas;
			} else {
				console.log('Бензин закончился')
			}
		}
	}
					</code></pre>
				</section>

				<section>
					<pre>
						<code data-line-numbers="1|3-4|6-7|8-9|10-11">  const bmw = new Auto('bmw', '100,000', 40);
	
	console.log(bmw);
	=> Auto {brand: 'bmw', price: '100,000', gas: 40, drive: f}

	bmw.drive()
	=> 20
	bmw.drive()
	=> 0
	bmw.drive()
	=> 'Бензин закончился'
					</code></pre>
				</section>

				<section data-markdown>
					<textarea data-template>
						## Важно!
						Каждый раз при создании нового экземпляра создается новый метод drive
					</textarea>
				</section>

				<section>
					<pre>
						<code data-line-numbers="1-2|4-5">  const bmw = new Auto('bmw', '100,000', 40);
	const bmw = new Auto('volvo', '120,000', 40);
	
	bmw.drive === volvo.drive
	=> false
					</code></pre>
				</section>

				<section data-markdown>
					<textarea data-template>
						### Для текущего примера не критично
						Но если будет создано 1000 или 100 000 экземпляров класса и столько методов.
					  И это скажется на производительности приложения.
					</textarea>
				</section>

				<section data-markdown>
					<textarea data-template>
						### Решаем эту проблему
					</textarea>
				</section>

				<section>
					<pre>
					<code data-line-numbers="1-2|1-5">          const cars = ['toyota', 'tesla']
					const numbers = [1,2,3]
					
					cars.map === numbers.map
					=> true
					</code></pre>
				</section>

				<section>
					<pre>
					<code data-line-numbers="7|7-14|1-5">         function Auto(brand, price, gas) {
						this.brand = brand;
						this.price = price;
						this.gas = gas;
					}
					
					Auto.prototype.drive = function() {
						if(this.gas > 0) {
							this.gas = this.gas - 20;
							return this.gas;
						} else {
							console.log('Бензин закончился')
						}
					}
					</code></pre>
				</section>

				<section>
					<pre>
						<code data-line-numbers="1|3-4">  const bmw = new Auto('bmw', '100,000', 40);
	
	console.log(bmw);
	=> Auto {brand: 'bmw', price: '100,000', gas: 40}
					</code></pre>
				</section>

				<section>
					<img data-src="./examples/assets/img/slide.jpg">
				</section>

				<section>
					<pre>
						<code data-line-numbers="1|3-4|6|8-9">  const letters = 'hello'
	
	letters.toUpperCase()
	=> 'HELLO'

	String.prototype.toUpperCase = function() {return 'Wooooow'}

	letters.toUpperCase()
	=> 'Wooooow'
					</code></pre>
				</section>

				<section data-markdown>
					<textarea data-template>
						### Методы для работы с прототипами
					</textarea>
				</section>

				<section data-markdown>
					<textarea data-template>
						### hasOwnProperty()
						Возвращает логическое значение, указывающее, содержит ли объект указанное свойство.
						hasOwnProperty — единственная существующая в JavaScript возможность работать со свойствами, не затрагивая цепочку прототипов. 
						<pre>
							<code>
								obj.hasOwnProperty(prop)
							</code>
					  </pre>
					</textarea>
				</section>

				<section data-markdown>
					<textarea data-template>
						### Object.create
						Новый метод для создания объектов, представленный В ECMAScript 5. Прототип создаваемого объекта указывается в первом аргументе этого метода.
						<pre>
							<code>
								const b = Object.create(a)
							</code>
					  </pre>
					</textarea>
				</section>

				<section data-markdown>
					<textarea data-template>
						### Перебор ключей
			
						<pre>
							<code data-line-numbers="1|1-2|1-3|1-6|1-9">     const auto = {price: 200};
						     const volvo = Object.create(auto);
						     volvo.speed = 50;

						     // Object.keys возвращает только собственные ключи
     alert(Object.keys(volvo)); // speed

	 // for..in проходит и по своим, и по унаследованным ключам
	 for(let prop in volvo) alert(prop); // price, speed
							</code>
					  </pre>
					</textarea>
				</section>

				<section data-markdown>
					<textarea data-template>
						### Материалы:
			
1. https://www.youtube.com/watch?v=o_HntOTCqks
2. https://www.youtube.com/watch?v=b55hiUlhAzI&t=814s
3. https://learn.javascript.ru/prototype-inheritance
4. https://developer.mozilla.org/ru/docs/Web/JavaScript/Inheritance_and_the_prototype_chain
					</textarea>
				</section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
